{% extends 'base.html.twig' %} {% block title %}Voyage n° {{ travel.id }}{% endblock %} {%
    block body %}

    <div class="p-5 mb-4 rounded-3" style=" background-image: url('/uploads/{{ travel.image }}'); background-repeat: no-repeat; background-size: cover; background-position:center">
        <div class="container-fluid py-5">
          <h1 class="display-5 fw-bold text-light">{{ travel.place }}</h1>
          <p class="col-md-8 fs-4 text-light">{{ travel.country|country_name('fr') }}</p>
          <button type="button" class="btn btn-light text-dark" data-bs-toggle="modal" data-bs-target="#exampleModal">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
            <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"></path>
            <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"></path>
            </svg> Voir les photos
          </button>
        </div>
      </div>
 
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Photos du voyage {{ travel.place }}</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img src="/uploads/{{ travel.image }}" class="d-block w-100" alt="{{ travel.place }}">
                  </div>
                  <div class="carousel-item">
                    <img src="/uploads/{{ travel.image }}" class="d-block w-100" alt="{{ travel.place }}">
                  </div>
                  <div class="carousel-item">
                    <img src="/uploads/{{ travel.image }}" class="d-block w-100" alt="{{ travel.place }}">
                  </div>
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>


     
      <div class="row justify-content-center align-items-md-stretch mb-5">
        <div class="col-md-6">
            <div class="px-5">
                <p>
                    <button class="btn btn-dark text-light border-light"><strong>{{ travel.activity }}</strong>
                    </button>
                </p>
                <p>
                    {% for t in travel.NumberOfPeople %}
                        <button class="btn btn-light border border-success p-2 border-opacity-10">{{ t.name }}</button> 
                    {% endfor %}
                </p>
            </div>
            <div class="h-100 px-5 text-dark">
              <h2>{{ travel.style }}</h2>
              <p>{{ travel.description }}</p>
            </div>
          </div>

        <div class="col-md-4 lg-shadow">
            <div class="h-100 p-5 bg-light border rounded-3">
            <div class="row">
              <div class="col-md-8">
                <h5 class="mb-4">Idée de voyage proposé par </h5>
                <h4 class="mt-1 mb-3"><strong>{{ travel.user }}</strong></h4>               
              </div>
              <div class="col-md-4">
                {% if travel.user.picture is defined %}
                  <img src="/uploads/{{ travel.user.picture }}" alt="{{ travel.user }}" class="rounded-pill w-100">
                {% else %}
                  <img src="{{ asset('assets/img/none.jpg') }}" alt="picture" class="rounded-pill w-100">
                {% endif %}
              </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <p><strong>Durée du voyage</strong></p>
                </div>
                <div class="col-6">
                    <h4><strong>{{ travel.time }}</strong></h4>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <p><strong>Budget moyen estimé par personne</strong><br/>
                    Hors vols internationaux</p>
                </div>
                <div class="col-6">
                    <h4><strong>{{ travel.price / 100 }} €</strong></h4>
                </div>
                <a href="#" class="link-success mb-3">Plus de détails</a>
            </div>
            <div class="row">
                <div class="col-12">
                    <button class="btn btn-dark text-light border-light" type="button"><strong>Contactez l'expert.e local.e</strong></button>
                </div>
            </div>
          </div>
        </div>
      </div>
    
      <div class="row justify-content-center mb-5">
        <div class="col-md-8">
          <div class="row">
            <h5 class="text-center mt-2 mb-4">Périodes idéales pour partir en {{ travel.country|country_name('fr') }}</h5>
            {% for p in travel.period %}
            <div class="col-sm-2 border">
              <div class="text-center mx-auto">
                {{ p.month }}
              </div>
              <div class="progress w-25 mt-1 m-3 mx-auto">
                <div class="progress-bar bg-success" style="width: {{p.value}}%" role="progressbar" aria-valuenow="{{ p.value }}" aria-valuemin="0" aria-valuemax="100">
                </div>
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="row justify-content-center mb-5">
        <div class="col-md-6">
          <h3 class="text-center">Avis des voyageurs</h3>
          {% for comment in travel.comments %}
            {% if comment.parents == null %}
              <div class="card">
                <div class="card-body">
                  <h5="card-title">titre</h5>
                    <p>Publié par {{ comment.surname }} le {{ comment.date|date("d/m/Y") }}</p>
                    <p>{{ comment.content }}</p>
                    <p><a href="#ajout-commentaire" data-reply data-id="{{comment.id}}" class="btn btn-light border">Répondre</a></p>
                </div>
              </div>
            
            
            <div class="card">
              <div class="card-body">
                {% for reply in comment.replies %}
                  <h5 class="card-title">Réponse publiée par {{ reply.nickname }} le {{ reply.date|date("d/m/Y") }}</h5>
                  <p>{{reply.content|raw}}</p>
                {% endfor %}
                {% endif %}
              </div>
            </div>
          {% endfor %}
        </div>
        {% if app.user %}
        <div class="col-md-4" id="ajout-commentaire">
          <h3 class="text-center">Donnez votre ressenti sur ce voyage</h3>
            {{ form(commentForm) }}
        </div>
        {% else %}
        <div class="col-md-6">
          <h4 class="text-center">Vous souhaitez donner votre avis sur ce voyage ? </br>Connectez-vous à votre profil!</h4>
        </div>
      </div>
      {% endif %}
{% endblock %}

{% block script %}
    <script type="text/javascript">

     
  </script>
{% endblock %}
